# @iswangh/element-plus-kit-core å¼€å‘æ–‡æ¡£

æœ¬æ–‡æ¡£è¯¦ç»†è§£é‡Šäº† `@iswangh/element-plus-kit-core` åŒ…çš„å®Œæ•´å¼€å‘é…ç½®ï¼ŒåŒ…æ‹¬ `package.json`ã€`tsconfig.json` å’Œ `vite.config.ts` çš„è¯¦ç»†è¯´æ˜ã€‚

---

## ğŸ“‹ ç›®å½•

- [package.json é…ç½®è¯¦è§£](#packagejson-é…ç½®è¯¦è§£)
- [tsconfig.json é…ç½®è¯¦è§£](#tsconfigjson-é…ç½®è¯¦è§£)
- [vite.config.ts é…ç½®è¯¦è§£](#viteconfigts-é…ç½®è¯¦è§£)
- [é…ç½®æ–‡ä»¶ä¹‹é—´çš„å…³ç³»](#é…ç½®æ–‡ä»¶ä¹‹é—´çš„å…³ç³»)
- [å¼€å‘å·¥ä½œæµ](#å¼€å‘å·¥ä½œæµ)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## package.json é…ç½®è¯¦è§£

### ğŸ“‹ å®Œæ•´é…ç½®ï¼ˆå¸¦æ³¨é‡Šè¯´æ˜ï¼‰

```json
{
  // åŒ…çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œä½¿ç”¨ scoped package å‘½åï¼ˆ@iswangh/ å‰ç¼€ï¼‰ï¼Œé¿å…å‘½åå†²çª
  // éµå¾ª Monorepo å‘½åè§„èŒƒï¼š@ç»„ç»‡å/é¡¹ç›®å/åŒ…å
  // åœ¨é¡¹ç›®å†…éƒ¨ï¼Œå…¶ä»–åŒ…å¯ä»¥é€šè¿‡ @iswangh/element-plus-kit-core å¼•ç”¨æ­¤åŒ…
  "name": "@iswangh/element-plus-kit-core",
  
  // æŒ‡å®šåŒ…ä½¿ç”¨ ES Moduleï¼ˆESMï¼‰æ ¼å¼ï¼Œè€Œä¸æ˜¯ CommonJSï¼ˆCJSï¼‰
  // ä½¿ç”¨ ES Module è¯­æ³•ï¼ˆimport/exportï¼‰ï¼Œç°ä»£ JavaScript æ ‡å‡†ï¼Œæ›´å¥½çš„ Tree Shaking æ”¯æŒ
  // é…ç½®ä¸€è‡´æ€§ï¼šä¸ vite.config.ts çš„ formats: ['es'] å’Œ tsconfig.json çš„ module: "ESNext" ä¿æŒä¸€è‡´
  "type": "module",
  
  // åŒ…çš„ç‰ˆæœ¬å·ï¼Œéµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼ˆSemVerï¼‰è§„èŒƒï¼šä¸»ç‰ˆæœ¬å·.æ¬¡ç‰ˆæœ¬å·.ä¿®è®¢å·
  // 0.1.3ï¼šä¸»ç‰ˆæœ¬å·ï¼ˆ0ï¼‰= ä¸å…¼å®¹çš„ API ä¿®æ”¹ï¼Œæ¬¡ç‰ˆæœ¬å·ï¼ˆ1ï¼‰= å‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢ï¼Œä¿®è®¢å·ï¼ˆ3ï¼‰= å‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£
  "version": "0.1.3",
  
  // åŒ…çš„ç®€çŸ­æè¿°ï¼Œç”¨äº npm æœç´¢å’Œå±•ç¤ºï¼ˆå»ºè®®ä¸è¶…è¿‡ 160 ä¸ªå­—ç¬¦ï¼‰
  "description": "Element Plus Kit æ ¸å¿ƒå·¥å…·å‡½æ•°åŒ…",
  
  // åŒ…çš„è®¸å¯è¯ç±»å‹ï¼ˆApache-2.0 æ˜¯å¸¸ç”¨çš„å¼€æºè®¸å¯è¯ï¼Œæä¾›ä¸“åˆ©ä¿æŠ¤ï¼‰
  // å…è®¸å•†ä¸šä½¿ç”¨ã€ä¿®æ”¹ã€åˆ†å‘ï¼Œå¹¶æä¾›ä¸“åˆ©æˆæƒä¿æŠ¤
  "license": "Apache-2.0",
  
  // å®šä¹‰åŒ…çš„å¯¼å‡ºå…¥å£ï¼Œè¿™æ˜¯ç°ä»£ npm åŒ…çš„æ ‡å‡†é…ç½®æ–¹å¼ï¼ˆNode.js 12+ æ”¯æŒï¼‰
  // æ›´ç²¾ç¡®çš„æ§åˆ¶ã€æ›´å¥½çš„å®‰å…¨æ€§ã€æ”¯æŒæ¡ä»¶å¯¼å‡ºã€TypeScript æ”¯æŒ
  // é…ç½®ä¸€è‡´æ€§è¯´æ˜ï¼š
  //   - è¾“å‡ºç›®å½•ï¼šæ‰€æœ‰å¯¼å‡ºè·¯å¾„éƒ½æŒ‡å‘ dist/ ç›®å½•ï¼Œä¸ tsconfig.json çš„ outDir å’Œ vite.config.ts çš„é»˜è®¤è¾“å‡ºç›®å½•ä¸€è‡´
  //   - ç±»å‹å®šä¹‰ï¼šæ¯ä¸ªå…¥å£éƒ½æä¾›å¯¹åº”çš„ç±»å‹å®šä¹‰æ–‡ä»¶ï¼Œä¸ tsconfig.json çš„ declaration: true é…ç½®ä¸€è‡´
  "exports": {
    // ä¸»å…¥å£ç‚¹ï¼Œå¯¹åº” import pkg from '@iswangh/element-plus-kit-core'
    // types: TypeScript ç±»å‹å®šä¹‰æ–‡ä»¶è·¯å¾„ï¼ˆä¸ tsconfig.json çš„ outDir ä¸€è‡´ï¼‰
    // import: ES Module å¯¼å…¥æ—¶çš„å…¥å£æ–‡ä»¶ï¼ˆä¸ vite.config.ts çš„ build.lib.entry ä¸€è‡´ï¼‰
    ".": {
      "types": "./dist/index.d.ts",
      "import": "./dist/index.js"
    }
  },
  
  // å‘åå…¼å®¹æ—§ç‰ˆæœ¬çš„ Node.js å’Œæ„å»ºå·¥å…·
  // main: CommonJS å’Œæ—§ç‰ˆ Node.js çš„å…¥å£ç‚¹
  // module: ä¸ºæ”¯æŒ ESM çš„æ‰“åŒ…å™¨æä¾› ES Module å…¥å£
  // types: TypeScript ç±»å‹å®šä¹‰æ–‡ä»¶çš„è·¯å¾„
  // ä¼˜å…ˆçº§ï¼šæ”¯æŒ exports çš„ç¯å¢ƒä¼˜å…ˆä½¿ç”¨ exportsï¼Œä¸æ”¯æŒçš„ç¯å¢ƒå›é€€åˆ° mainã€moduleã€types
  "main": "./dist/index.js",
  "module": "./dist/index.js",
  "types": "./dist/index.d.ts",
  
  // å‘å¸ƒåˆ° npm æ—¶åŒ…å«çš„æ–‡ä»¶åˆ—è¡¨
  "files": [
    "README.md",
    "dist"
  ],
  
  // è„šæœ¬å‘½ä»¤é…ç½®
  "scripts": {
    // æ„å»ºç”Ÿäº§ç‰ˆæœ¬ï¼šä½¿ç”¨ Vite è¿›è¡Œæ„å»ºï¼Œè¾“å‡ºåˆ° dist/ ç›®å½•ï¼Œç”Ÿæˆä¼˜åŒ–åçš„ä»£ç å’Œç±»å‹å®šä¹‰æ–‡ä»¶
    "build": "vite build",
    
    // å¼€å‘æ¨¡å¼æ„å»ºï¼šç›‘å¬æ–‡ä»¶å˜åŒ–è‡ªåŠ¨é‡æ–°æ„å»ºï¼Œé€‚ç”¨äºå¼€å‘æ—¶æµ‹è¯•æ„å»ºè¾“å‡º
    "dev": "vite build --watch",
    
    // ç±»å‹æ£€æŸ¥ï¼šä½¿ç”¨ vue-tsc æ£€æŸ¥æ‰€æœ‰ TypeScript æ–‡ä»¶ï¼Œä¸ç”Ÿæˆè¾“å‡ºæ–‡ä»¶ï¼Œç”¨äº CI/CD ä¸­éªŒè¯ç±»å‹æ­£ç¡®æ€§
    "type-check": "vue-tsc --noEmit",
    
    // å‘å¸ƒå‰çš„è‡ªåŠ¨æ£€æŸ¥è„šæœ¬ï¼šåœ¨å‘å¸ƒåˆ° npm ä¹‹å‰è‡ªåŠ¨æ‰§è¡Œï¼Œç¡®ä¿ç±»å‹æ£€æŸ¥å’Œæ„å»ºéƒ½é€šè¿‡
    // å¦‚æœç±»å‹æ£€æŸ¥æˆ–æ„å»ºå¤±è´¥ï¼Œå‘å¸ƒä¼šè¢«é˜»æ­¢ï¼Œä¿è¯å‘å¸ƒåˆ° npm çš„åŒ…è´¨é‡
    // æ‰§è¡Œé¡ºåºï¼šå…ˆç±»å‹æ£€æŸ¥ï¼Œå†æ„å»ºï¼ˆç±»å‹æ£€æŸ¥æ›´å¿«ï¼Œå¯ä»¥æå‰å‘ç°é—®é¢˜ï¼‰
    "prepublishOnly": "pnpm type-check && pnpm build"
  },
  
  // å¯¹ç­‰ä¾èµ–ï¼šä½¿ç”¨æ­¤åŒ…çš„é¡¹ç›®å¿…é¡»å®‰è£…çš„ä¾èµ–
  // ä¸è‡ªåŠ¨å®‰è£…ï¼šnpm/pnpm ä¸ä¼šè‡ªåŠ¨å®‰è£… peer dependencies
  // ç‰ˆæœ¬è¦æ±‚ï¼š^3.5.23 è¡¨ç¤ºå…¼å®¹ 3.5.23 åŠä»¥ä¸Šã€4.0.0 ä»¥ä¸‹çš„ç‰ˆæœ¬
  // é¿å…é‡å¤å®‰è£…ï¼šç¡®ä¿é¡¹ç›®ä¸­åªæœ‰ä¸€ä¸ª Vue å®ä¾‹
  // ä¸ºä»€ä¹ˆä½¿ç”¨ peer dependenciesï¼š
  //   - é¿å…ç‰ˆæœ¬å†²çªï¼šç¡®ä¿ä½¿ç”¨é¡¹ç›®ä¸­çš„ Vue ç‰ˆæœ¬
  //   - å‡å°åŒ…ä½“ç§¯ï¼šä¸å°† Vue æ‰“åŒ…è¿›åº“ä¸­
  //   - çµæ´»æ€§ï¼šå…è®¸ç”¨æˆ·é€‰æ‹© Vue ç‰ˆæœ¬ï¼ˆåœ¨å…¼å®¹èŒƒå›´å†…ï¼‰
  // é…ç½®ä¸€è‡´æ€§ï¼šä¸ vite.config.ts çš„ rollupOptions.external é…ç½®ä¿æŒä¸€è‡´ï¼Œè¿™äº›ä¾èµ–ä¸ä¼šè¢«æ‰“åŒ…è¿›åº“ä¸­
  "peerDependencies": {
    "vue": "^3.5.23"
  },
  
  // å¼€å‘æ—¶ä¾èµ–ï¼šåªåœ¨å¼€å‘ã€æ„å»ºã€æµ‹è¯•æ—¶éœ€è¦ï¼Œä¸ä¼šè¢«æ‰“åŒ…å‘å¸ƒ
  "devDependencies": {
    // TypeScript ç¼–è¯‘å™¨ï¼šç±»å‹æ£€æŸ¥ã€ç¼–è¯‘ TypeScript ä»£ç 
    "typescript": "^5.9.3",
    
    // ç°ä»£å‰ç«¯æ„å»ºå·¥å…·ï¼šæ„å»ºã€æ‰“åŒ…ã€å¼€å‘æœåŠ¡å™¨
    "vite": "^7.2.2",
    
    // Vite çš„ç±»å‹å®šä¹‰ç”Ÿæˆæ’ä»¶ï¼šè‡ªåŠ¨ç”Ÿæˆ TypeScript ç±»å‹å®šä¹‰æ–‡ä»¶ï¼ˆ.d.tsï¼‰ï¼Œç¡®ä¿å‘å¸ƒçš„åŒ…åŒ…å«å®Œæ•´çš„ç±»å‹æ”¯æŒ
    "vite-plugin-dts": "^4.5.4",
    
    // Vue 3 æ¡†æ¶ï¼ˆå¼€å‘ç‰ˆæœ¬ï¼‰ï¼šå¼€å‘æ—¶æµ‹è¯•å’Œç±»å‹å®šä¹‰
    // æ³¨æ„ï¼švue åœ¨ devDependencies ä¸­æ˜¯å¼€å‘ç‰ˆæœ¬ï¼Œå®é™…è¿è¡Œæ—¶ä½¿ç”¨ peerDependencies ä¸­çš„ç‰ˆæœ¬
    "vue": "^3.5.24",
    
    // Vue 3 çš„ TypeScript ç±»å‹æ£€æŸ¥å·¥å…·ï¼šæ£€æŸ¥ .vue æ–‡ä»¶ä¸­çš„ TypeScript ç±»å‹ï¼Œç”Ÿæˆç±»å‹å®šä¹‰æ–‡ä»¶ï¼ˆ.d.tsï¼‰
    "vue-tsc": "^3.1.3"
  },
  
  // å‘å¸ƒé…ç½®ï¼šæŒ‡å®šå‘å¸ƒåˆ° npm æ—¶çš„è®¿é—®æƒé™
  "publishConfig": {
    "access": "public"
  }
}
```

---

## tsconfig.json é…ç½®è¯¦è§£

### ğŸ“‹ å®Œæ•´é…ç½®

```json
{
  // ç»§æ‰¿æ ¹ç›®å½•çš„åŸºç¡€ TypeScript é…ç½®
  "extends": "../../tsconfig.app.json",
  "compilerOptions": {
    // å¯ç”¨å¤åˆé¡¹ç›®æ¨¡å¼ï¼Œæ”¯æŒ TypeScript Project References
    "composite": true,
    // å¢é‡ç¼–è¯‘ä¿¡æ¯æ–‡ä»¶è·¯å¾„
    "tsBuildInfoFile": "../../node_modules/.tmp/packages-core.tsbuildinfo",
    // åŸºç¡€è·¯å¾„ï¼šå½“å‰åŒ…ç›®å½•
    "baseUrl": ".",
    // æ ¹ç›®å½•ï¼šsrc ç›®å½•
    "rootDir": "./src",
    // è·¯å¾„åˆ«åï¼šæ¸…ç©ºç»§æ‰¿çš„ pathsï¼Œcore åŒ…ä¸ä¾èµ–å…¶ä»–å†…éƒ¨åŒ…ï¼Œå¼ºåˆ¶ä½¿ç”¨åŒ…åå¯¼å…¥
    // é…ç½®ä¸€è‡´æ€§ï¼šä¸ vite.config.ts ä¸é…ç½® resolve.alias ä¿æŒä¸€è‡´ï¼Œç»Ÿä¸€ä½¿ç”¨åŒ…åå¯¼å…¥ï¼Œpnpm workspace è‡ªåŠ¨è§£æåˆ°å·¥ä½œåŒºå†…çš„æºç 
    "paths": {},
    // åŒ…å«çš„å…¨å±€ç±»å‹å®šä¹‰ï¼šNode.js ç±»å‹ï¼ˆç”¨äºæ„å»ºå·¥å…·ï¼‰
    "types": ["node"],
    // ç”Ÿæˆç±»å‹å£°æ˜æ–‡ä»¶ï¼ˆ.d.tsï¼‰
    "declaration": true,
    // ç”Ÿæˆç±»å‹å£°æ˜æ–‡ä»¶çš„ source map
    "declarationMap": true,
    // å…è®¸è¾“å‡ºæ–‡ä»¶ï¼ˆæ„å»ºæ—¶éœ€è¦ï¼‰
    "noEmit": false,
    // è¾“å‡ºç›®å½•ï¼šdist
    // é…ç½®ä¸€è‡´æ€§ï¼šä¸ package.json çš„ exports è·¯å¾„å’Œ vite.config.ts çš„é»˜è®¤è¾“å‡ºç›®å½•ä¿æŒä¸€è‡´
    "outDir": "./dist"
  },
  // åŒ…å«çš„æ–‡ä»¶ï¼šsrc ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶
  "include": ["src/**/*"],
  // æ’é™¤çš„æ–‡ä»¶ï¼šnode_modules å’Œ dist ç›®å½•
  "exclude": ["node_modules", "dist"]
}
```

---

## vite.config.ts é…ç½®è¯¦è§£

### ğŸ“‹ å®Œæ•´é…ç½®

```typescript
// è·¯å¾„è§£æå·¥å…·ï¼šåœ¨ ES Module ç¯å¢ƒä¸­è·å–å½“å‰æ–‡ä»¶ç›®å½•
import { resolve } from 'node:path'
import { fileURLToPath } from 'node:url'
// Vite é…ç½®å®šä¹‰å‡½æ•°ï¼šæä¾›ç±»å‹æç¤ºå’Œé…ç½®éªŒè¯
import { defineConfig } from 'vite'
// TypeScript ç±»å‹å®šä¹‰ç”Ÿæˆæ’ä»¶ï¼šè‡ªåŠ¨ç”Ÿæˆ .d.ts æ–‡ä»¶
import dts from 'vite-plugin-dts'

// è·å–å½“å‰æ–‡ä»¶ç›®å½•ï¼ˆES Module ç¯å¢ƒä¸­çš„ __dirname æ›¿ä»£æ–¹æ¡ˆï¼‰
const __dirname = fileURLToPath(new URL('.', import.meta.url))

/**
 * Core åŒ…æ„å»ºé…ç½®
 *
 * æ ¸å¿ƒå·¥å…·å‡½æ•°åŒ…ï¼Œä¸ä¾èµ– Vue ç»„ä»¶
 */
export default defineConfig({
  plugins: [
    // ç±»å‹å£°æ˜æ–‡ä»¶ç”Ÿæˆæ’ä»¶
    dts({
      // åŒ…å«çš„æ–‡ä»¶ï¼šæ‰€æœ‰ src ç›®å½•ä¸‹çš„æ–‡ä»¶
      include: ['src/**/*'],
      // æ’é™¤çš„æ–‡ä»¶ï¼šæµ‹è¯•æ–‡ä»¶
      exclude: ['src/**/*.test.ts', 'src/**/*.spec.ts'],
      // è¾“å‡ºç›®å½•ï¼šdist
      outDir: 'dist',
      // å¤åˆ¶ç±»å‹å£°æ˜æ–‡ä»¶åˆ°è¾“å‡ºç›®å½•
      copyDtsFiles: true,
      // æ—¥å¿—çº§åˆ«ï¼šé™é»˜ï¼ˆä¸è¾“å‡ºæ—¥å¿—ï¼‰
      logLevel: 'silent',
    }),
  ],
  build: {
    // åº“æ¨¡å¼é…ç½®
    lib: {
      // å…¥å£æ–‡ä»¶ï¼ˆå¯¹åº” package.json çš„ exports["."]ï¼‰
      entry: resolve(__dirname, 'src/index.ts'),
      // åº“åç§°ï¼ˆç”¨äº UMD æ ¼å¼ï¼Œå½“å‰ä»…ä½¿ç”¨ ES æ ¼å¼ï¼‰
      name: 'ElementPlusKitCore',
      // è¾“å‡ºæ–‡ä»¶åï¼šindex.js
      fileName: 'index',
      // è¾“å‡ºæ ¼å¼ï¼šä»… ES æ¨¡å—
      // é…ç½®ä¸€è‡´æ€§ï¼šä¸ package.json çš„ type: "module" å’Œ tsconfig.json çš„ module: "ESNext" ä¿æŒä¸€è‡´
      formats: ['es'],
    },
    rollupOptions: {
      // å¤–éƒ¨ä¾èµ–ï¼šä¸æ‰“åŒ…åˆ°åº“ä¸­ï¼Œç”±ä½¿ç”¨è€…æä¾›ï¼ˆé¿å…é‡å¤æ‰“åŒ…ï¼Œå‡å°åº“ä½“ç§¯ï¼‰
      // é…ç½®ä¸€è‡´æ€§ï¼šä¸ package.json çš„ peerDependencies ä¿æŒä¸€è‡´ï¼Œvue ä¸ä¼šè¢«æ‰“åŒ…è¿›åº“ä¸­
      external: ['vue'],
      output: {
        // å…¨å±€å˜é‡æ˜ å°„ï¼ˆç”¨äº UMD æ ¼å¼ï¼Œå½“å‰æœªä½¿ç”¨ï¼‰
        globals: {
          vue: 'Vue',
        },
      },
    },
  },
})
```

**æ³¨æ„**ï¼šCore åŒ…ä¸åŒ…å« Vue ç»„ä»¶ï¼Œä¸éœ€è¦é…ç½® `@vitejs/plugin-vue` æ’ä»¶ã€‚Core åŒ…æ˜¯çº¯ TypeScript å·¥å…·å‡½æ•°åŒ…ï¼Œåªéœ€è¦ `vite-plugin-dts` æ’ä»¶æ¥ç”Ÿæˆç±»å‹å®šä¹‰æ–‡ä»¶ã€‚

---

## é…ç½®æ–‡ä»¶ä¹‹é—´çš„å…³ç³»

### ğŸ”— é…ç½®å…³è”å›¾

```
package.json
    â”‚
    â”œâ”€ type: "module" â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                â”‚
    â”œâ”€ exports.import â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚                                â”‚
    â””â”€ scripts.build â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                                     â”‚
vite.config.ts â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€ æ„å»ºé…ç½®
    â”‚                                â”‚
    â”œâ”€ build.lib.formats: ['es'] â”€â”€â”€â”€â”˜
    â”‚
    â””â”€ build.rollupOptions.external â”€â”
                                      â”‚
tsconfig.json â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€ ç±»å‹é…ç½®
    â”‚                                 â”‚
    â”œâ”€ outDir: "./dist" â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â””â”€ declaration: true â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                      â”‚
package.json â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â””â”€ exports.types: "./dist/index.d.ts"
```


## å¼€å‘å·¥ä½œæµ

### ğŸš€ å¼€å‘æµç¨‹

#### 1. å¼€å‘é˜¶æ®µ

```bash
# å¯åŠ¨ç›‘å¬æ¨¡å¼ï¼Œè‡ªåŠ¨é‡æ–°æ„å»º
npm run dev
```

**æµç¨‹**ï¼š
1. ä¿®æ”¹ `src/` ç›®å½•ä¸‹çš„æºä»£ç 
2. Vite è‡ªåŠ¨æ£€æµ‹å˜åŒ–å¹¶é‡æ–°æ„å»º
3. è¾“å‡ºåˆ° `dist/` ç›®å½•
4. å…¶ä»–åŒ…å¯ä»¥ç«‹å³ä½¿ç”¨æ›´æ–°åçš„ä»£ç 

---

#### 2. ç±»å‹æ£€æŸ¥

```bash
# æ£€æŸ¥ç±»å‹é”™è¯¯
npm run type-check
```

**æµç¨‹**ï¼š
1. ä½¿ç”¨ `vue-tsc` æ£€æŸ¥æ‰€æœ‰ TypeScript æ–‡ä»¶
2. ä¸ç”Ÿæˆè¾“å‡ºæ–‡ä»¶ï¼ˆ`--noEmit`ï¼‰
3. å‘ç°ç±»å‹é”™è¯¯æ—¶åœæ­¢å¹¶æŠ¥å‘Š

**ä½¿ç”¨åœºæ™¯**ï¼š
- æäº¤ä»£ç å‰æ£€æŸ¥
- CI/CD æµç¨‹ä¸­éªŒè¯
- ç¡®ä¿ä»£ç è´¨é‡

---

#### 3. æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build
```

**æµç¨‹**ï¼š
1. Vite ä½¿ç”¨ Rollup è¿›è¡Œæ„å»º
2. TypeScript ç¼–è¯‘ç”Ÿæˆ JavaScript å’Œç±»å‹å®šä¹‰
3. è¾“å‡ºåˆ° `dist/` ç›®å½•
4. å‡†å¤‡å‘å¸ƒåˆ° npm

---

### ğŸ“¦ å‘å¸ƒæµç¨‹

**é‡è¦**ï¼šåœ¨ Monorepo é¡¹ç›®ä¸­ï¼Œåº”ä½¿ç”¨æ ¹ç›®å½•çš„å‘å¸ƒå‘½ä»¤ï¼Œè€Œä¸æ˜¯ç›´æ¥åœ¨åŒ…ç›®å½•ä¸­æ‰§è¡Œ `npm publish`ã€‚

#### å‘å¸ƒ

å‘å¸ƒå‰ä¼šè‡ªåŠ¨æ£€æŸ¥å½“å‰ Git åˆ†æ”¯ï¼ˆé€šè¿‡ Changesets pre é’©å­ï¼‰ï¼Œåªèƒ½åœ¨ `main` æˆ– `master` åˆ†æ”¯ä¸Šå‘å¸ƒï¼š

ä½¿ç”¨æ ¹ç›®å½•çš„å‘å¸ƒå‘½ä»¤ï¼ˆ**æ¨è**ï¼‰ï¼š

```bash
# ä»é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œï¼ˆä½¿ç”¨ Changesets è‡ªåŠ¨ç®¡ç†ç‰ˆæœ¬å’Œå‘å¸ƒï¼‰
pnpm release
```

**è‡ªåŠ¨æ‰§è¡Œæµç¨‹**ï¼š
1. **åˆ†æ”¯æ£€æŸ¥**ï¼šé€šè¿‡ Changesets pre é’©å­æ£€æŸ¥å½“å‰åˆ†æ”¯æ˜¯å¦ä¸º `main` æˆ– `master`
2. **å‘å¸ƒ**ï¼šæŒ‰ä¾èµ–é¡ºåºå‘å¸ƒåŒ…ï¼ˆcore â†’ form â†’ kitï¼‰
3. **æ„å»ºå’Œç±»å‹æ£€æŸ¥**ï¼šæ¯ä¸ªåŒ…çš„ `prepublishOnly` é’©å­è‡ªåŠ¨æ‰§è¡Œæ„å»ºå’Œç±»å‹æ£€æŸ¥
4. **å‘å¸ƒåˆ° npm**ï¼šå¦‚æœæ‰€æœ‰æ£€æŸ¥é€šè¿‡ï¼Œè‡ªåŠ¨å‘å¸ƒåˆ° npm

**æ³¨æ„**ï¼šç‰ˆæœ¬æ›´æ–°åº”åœ¨å‘å¸ƒå‰é€šè¿‡ `pnpm version` å‘½ä»¤å®Œæˆã€‚

**æ‰‹åŠ¨æ‰§è¡Œ**ï¼ˆä¸æ¨èï¼Œä»…ç”¨äºæµ‹è¯•ï¼‰ï¼š

```bash
# è¿›å…¥åŒ…ç›®å½•
cd packages/core

# æ‰‹åŠ¨æ„å»º
pnpm build

# æ‰‹åŠ¨ç±»å‹æ£€æŸ¥
pnpm type-check

# ç›´æ¥å‘å¸ƒï¼ˆä¸æ¨èï¼Œä¼šè·³è¿‡åˆ†æ”¯æ£€æŸ¥ï¼‰
npm publish
```

**å‘å¸ƒå†…å®¹**ï¼š
- `dist/` ç›®å½•ï¼ˆæ„å»ºäº§ç‰©ï¼‰
- `README.md`ï¼ˆæ–‡æ¡£ï¼‰
- `package.json`ï¼ˆé…ç½®ï¼‰

---

## å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆ `tsconfig.json` ä¸­ `noEmit: false`ï¼Œä½† `type-check` è„šæœ¬ä½¿ç”¨ `--noEmit`ï¼Ÿ

**A**: 
- `tsconfig.json` ä¸­çš„ `noEmit: false` å…è®¸æ„å»ºæ—¶ç”Ÿæˆæ–‡ä»¶
- `type-check` è„šæœ¬ä½¿ç”¨ `--noEmit` æ ‡å¿—è¦†ç›–é…ç½®ï¼Œåªæ£€æŸ¥ç±»å‹ä¸ç”Ÿæˆæ–‡ä»¶
- è¿™æ ·å¯ä»¥åœ¨ä¸åŒåœºæ™¯ä¸‹ä½¿ç”¨ä¸åŒçš„è¡Œä¸º

---

### Q2: ä¸ºä»€ä¹ˆ `vite.config.ts` ä¸­åªé…ç½®äº† `dts` æ’ä»¶ï¼Œæ²¡æœ‰é…ç½® `vue` æ’ä»¶ï¼Ÿ

**A**: 
- Core åŒ…æ˜¯çº¯ TypeScript å·¥å…·å‡½æ•°åŒ…
- ä¸åŒ…å« Vue ç»„ä»¶ï¼ˆ`.vue` æ–‡ä»¶ï¼‰
- ä¸éœ€è¦ `@vitejs/plugin-vue` æ’ä»¶
- åªéœ€è¦ `vite-plugin-dts` æ’ä»¶æ¥ç”Ÿæˆç±»å‹å®šä¹‰æ–‡ä»¶
- åªæœ‰åŒ…å« Vue ç»„ä»¶çš„åŒ…ï¼ˆå¦‚ form åŒ…ï¼‰æ‰éœ€è¦é…ç½® `vue` æ’ä»¶

---

### Q3: `tsBuildInfoFile` æ–‡ä»¶åº”è¯¥æäº¤åˆ° Git å—ï¼Ÿ

**A**: 
- **ä¸åº”è¯¥**æäº¤
- è¿™æ˜¯å¢é‡ç¼–è¯‘çš„ä¸´æ—¶æ–‡ä»¶
- åº”è¯¥åœ¨ `.gitignore` ä¸­å¿½ç•¥
- æ¯ä¸ªå¼€å‘è€…æœ¬åœ°ç”Ÿæˆ

---

### Q4: ä¸ºä»€ä¹ˆ `external` ä¸­åªåŒ…å« `vue`ï¼Œä¸åŒ…å«å…¶ä»–ä¾èµ–ï¼Ÿ

**A**: 
- Core åŒ…åªä¾èµ– Vueï¼ˆåœ¨ `peerDependencies` ä¸­å£°æ˜ï¼‰
- æ²¡æœ‰å…¶ä»–è¿è¡Œæ—¶ä¾èµ–
- æ‰€æœ‰å·¥å…·å‡½æ•°éƒ½æ˜¯çº¯å‡½æ•°ï¼Œä¸ä¾èµ–å¤–éƒ¨åº“

---

### Q5: å¦‚ä½•æ·»åŠ æ–°çš„å¯¼å‡ºå…¥å£ï¼Ÿ

**A**: 

1. **ä¿®æ”¹ `package.json`**ï¼š
```json
"exports": {
  ".": {
    "types": "./dist/index.d.ts",
    "import": "./dist/index.js"
  },
  "./utils": {
    "types": "./dist/utils.d.ts",
    "import": "./dist/utils.js"
  }
}
```

2. **ä¿®æ”¹ `vite.config.ts`**ï¼ˆå¦‚æœéœ€è¦å•ç‹¬æ„å»ºï¼‰ï¼š
```typescript
build: {
  lib: {
    entry: {
      index: resolve(__dirname, 'src/index.ts'),
      utils: resolve(__dirname, 'src/utils/index.ts'),
    },
    // ...
  }
}
```

---

### Q6: å¦‚ä½•è°ƒè¯•æ„å»ºé—®é¢˜ï¼Ÿ

**A**: 

1. **æ£€æŸ¥ TypeScript é…ç½®**ï¼š
```bash
npm run type-check
```

2. **æ£€æŸ¥æ„å»ºè¾“å‡º**ï¼š
```bash
npm run build
# æŸ¥çœ‹ dist/ ç›®å½•
```

3. **æ£€æŸ¥ Vite é…ç½®**ï¼š
- æŸ¥çœ‹ `vite.config.ts` ä¸­çš„é…ç½®
- ç¡®è®¤è·¯å¾„è§£ææ­£ç¡®

4. **æŸ¥çœ‹æ„å»ºæ—¥å¿—**ï¼š
- Vite ä¼šè¾“å‡ºè¯¦ç»†çš„æ„å»ºä¿¡æ¯
- æ£€æŸ¥æ˜¯å¦æœ‰è­¦å‘Šæˆ–é”™è¯¯

---

## ğŸ“š ç›¸å…³èµ„æº

- [npm package.json å®˜æ–¹æ–‡æ¡£](https://docs.npmjs.com/cli/v9/configuring-npm/package-json)
- [TypeScript é…ç½®æ–‡æ¡£](https://www.typescriptlang.org/tsconfig)
- [Vite æ„å»ºé…ç½®](https://vitejs.dev/config/)
- [Node.js Package Exports](https://nodejs.org/api/packages.html#package-entry-points)
- [è¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ](https://semver.org/)

---

## ğŸ“„ æ›´æ–°æ—¥å¿—

- **2024-XX-XX**ï¼šåˆå§‹ç‰ˆæœ¬ï¼ŒåŒ…å«å®Œæ•´å¼€å‘é…ç½®è¯´æ˜
- **2024-XX-XX**ï¼šæ›´æ–° Vue ç‰ˆæœ¬åˆ° 3.5.23

---

**æ–‡æ¡£ç»´æŠ¤è€…**ï¼šElement Plus Kit å›¢é˜Ÿ  
**æœ€åæ›´æ–°**ï¼š2024å¹´
