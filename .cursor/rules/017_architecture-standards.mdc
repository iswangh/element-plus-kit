---
description: 项目架构规范
globs: 
alwaysApply: true
priority: 2
tags:
  - architecture
  - development
---

# 项目架构规范

> **⚠️ 强制要求 - 请勿忽略**
>
> 本文档定义了项目架构规范，包括目录结构规范和导出规范。

## 目录结构规范

- 按业务领域或功能模块划分目录，严格遵循关注点分离原则
- 采用描述性命名，目录和文件名需清晰反映其用途和职责
- 相关功能聚合到同一模块，保持高内聚，最小化跨模块依赖，每个模块职责明确
- 每个模块必须包含 `index.ts`（或 `index.tsx`）作为聚合导出入口，禁止在模块外部直接导入模块内部文件
- 目录嵌套深度不超过 5-6 层
- 严格区分源代码（`src/`）、静态资源（`public/` 或 `assets/`）、配置文件（`configs/`）和测试文件（`tests/` 或 `__tests__/`）
- 使用 `.env` 文件管理环境变量，在 `.gitignore` 中忽略包含敏感信息的文件，提供 `.env.example` 文件作为模板
- 优先遵循项目现有的结构和命名约定，其次采用框架官方推荐的项目结构

## 导出规范

- 模块索引文件（`index.ts` 或 `index.tsx`）进行聚合导出时，必须使用 `export * from 'xxx'` 和 `export type * from 'xxx'` 格式
- 类型导出使用 `export type * from 'xxx'`，值导出使用 `export * from 'xxx'`，确保类型和值正确分离
- 仅在需要限制某些方法或类型为内部使用时，才使用具名导出（`export { xxx } from 'xxx'`），其他情况一律使用通配符导出
- 所有需要对外暴露的公共 API 都通过索引文件正确导出
- 同一模块内的导出方式应统一
