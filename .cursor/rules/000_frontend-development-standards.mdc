---
description: 前端项目通用开发规范
globs: 
alwaysApply: true
priority: 1  # 最高优先级，确保规则被优先执行
tags:
  - mandatory  # 标记为强制要求
  - critical   # 标记为关键要求
  - required   # 标记为必需要求
---

# 前端项目通用开发规范

> **⚠️ MANDATORY REQUIREMENT - DO NOT IGNORE**
>
> 本文档为**强制性要求**，AI 大模型 **MUST** 严格遵循，**MUST NOT** 违反或忽略。

## 目录导航

- [沟通响应规范](#mandatory-critical-沟通响应规范)
- [开发工具配置](#mandatory-critical-开发工具配置)
- [项目架构规范](#mandatory-critical-项目架构规范)
- [代码开发准则](#mandatory-critical-代码开发准则)
- [工程化实践](#mandatory-critical-工程化实践)
- [文档编写标准](#mandatory-critical-文档编写标准)
- [AI 生成文档管理规范](#mandatory-critical-ai-生成文档管理规范)

## 关键词定义

### 标记级别

- **`[MANDATORY]`** = **强制**：必须强制要求遵循的规范，不得违反
- **`CRITICAL`** = **关键**：关键性要求，具有最高优先级
- **`REQUIRED`** = **必需**：必需的要求，必须执行

### 行为关键词

- **`MUST`** = **必须**：必须执行的行为，强制性要求
- **`MUST NOT`** = **不得**：禁止执行的行为，明确禁止
- **`FORBIDDEN`** = **禁止**：严格禁止的操作，不允许执行
- **`NEVER`** = **永远不**：永远不允许的行为

### 格式要求

- **MUST**: 所有 `MUST`、`MUST NOT` 等关键词 **MUST** 使用加粗格式（`**MUST**`、`**MUST NOT**`）
- **MUST**: 关键词必须放在规则描述的开头，格式为：`- **MUST**: **规则标题**：规则描述`
- **MUST NOT**: 禁止使用普通文本格式的关键词（如 `MUST` 而非 `**MUST**`）

## [MANDATORY] CRITICAL: 沟通响应规范

### REQUIRED: 语言规范

- **MUST**: **始终使用简体中文**：与用户进行沟通交流
- **MUST**: **中文编码规范**：所有中文内容必须使用 UTF-8 编码
- **MUST**: **技术术语保持英文原文**：API、DOM、Promise、React Hook 等技术术语不得翻译
- **MUST**: **代码标识符使用英文**：变量、函数、类名等标识符使用英文命名
- **MUST**: **错误信息使用中文**：错误提示信息使用中文，技术错误代码保持英文原文

### REQUIRED: 响应规范

- **MUST**: **上下文理解**：结合项目上下文、相关文件、配置文件进行分析和回答
- **MUST**: **专业准确**：提供专业、准确的技术建议和解决方案
- **MUST**: **理由说明**：给出建议时，明确说明理由和适用场景
- **MUST**: **主动调研**：遇到不确定的问题时，主动查阅代码库、配置文件或相关文档
- **MUST**: **优先级处理**：先回答核心问题，再补充细节和扩展说明
- **MUST**: **完整性保障**：提供完整、可执行的解决方案，包括必要的代码示例、配置说明和注意事项
- **MUST**: **方案对比**：存在多种实现方案时，对比分析各方案的优缺点并推荐最适合的方案
- **MUST**: **不确定处理**：无法确定的问题，明确说明不确定的原因，提供可能的解决方向

### [MANDATORY] CRITICAL: 规则文件执行要求

- **MUST**: **规则文件动态读取**：每次响应前，必须先重新读取所有最新的规则文件（使用 `read_file` 工具，按编号顺序读取）
- **MUST**: **规则文件声明**：每次回答开始时，必须在回答内容的最开始声明将严格遵循的规则文件列表（使用 `@` 符号引用，如 `@000_frontend-development-standards.mdc`）
- **MUST**: **规则文件校验**：每次回答完成后，必须检查回答内容是否符合规则文件的所有要求
- **MUST**: **自我检查**：每次回答完成后，必须检查回答内容的准确性、完整性和代码示例的正确性
- **MUST**: **时间返回检查**：每次回答完成后，在返回最终答案前，**MUST** 执行时间返回规范的检查（详细要求请参考"时间返回规范"章节）
- **MUST**: **文档同步检查**：每次回答完成后，必须检查相关文档是否需要同步更新（参考"文档同步机制"章节）
- **MUST**: **AI 工作区检查**：每次执行时，必须检查 `ai-workspace/` 目录下的所有文件，确保文档分类正确、命名规范、内容完整（参考"AI 生成文档管理规范"章节）

### [MANDATORY] CRITICAL: MDC 文件生成规范

> **⚠️ MANDATORY REQUIREMENT**
>
> 生成新的 MDC 文件时，**MUST** 严格遵循以下规范，**FORBIDDEN** 生成重复内容。

- **MUST**: **规则定义原则**：所有规则定义必须优先考虑 AI 的理解和执行能力
- **MUST**: **定义质量标准**：生成或修改 MDC 文件时，**MUST** 严格遵循最佳实践、简洁、明确、清晰四个标准，确保规则定义文件符合这些要求
- **MUST**: **重复内容检查**：生成前必须检查现有 MDC 文件（如 000、001 等）中是否已包含相同或类似的内容
- **FORBIDDEN**: **禁止完全重复**：新文件不应包含与现有文件完全相同的内容
- **MUST**: **引用策略**：对于已在现有文件中定义的内容，应使用引用而非重复描述
- **MUST**: **定义文件要求**：规则定义文件必须简洁、明确、可执行，无冗余说明
- **MUST**: **参考说明使用原则**：生成或修改 MDC 文件时，必须严格遵循参考说明使用原则
  - **保留参考说明**：仅在避免重复定义时使用参考说明（如注释格式、文档格式、语言规范等）
  - **删除参考说明**：规则本身已足够明确时，**MUST NOT** 添加参考说明（如目录结构、命名规范等）
  - **原则**：参考说明仅用于避免重复定义，**FORBIDDEN** 在规则本身已明确的情况下添加参考说明

### [MANDATORY] CRITICAL: MDC 文件风格一致性规范

- **MUST**: **风格一致性**：所有 MDC 文件必须与基础规范文件（编号为 000 的规则文件）保持风格一致
- **MUST**: **头部配置规范**：所有 MDC 文件必须包含 Frontmatter 配置，使用 YAML 格式
  - **必需字段**：`description`、`alwaysApply`、`priority`、`tags`
  - **可选字段**：`globs`
  - **格式要求**：所有字段格式必须与基础规范文件保持一致

### REQUIRED: 自动化响应要求

- **MUST**: **Git 提交信息生成**：每次回答完成后，必须自动检查已修改的文件并生成提交信息（分别生成暂存区和未暂存区，遵循 Conventional Commits 格式：`<type>(<scope>): <subject>`）
- **MUST**: **中断处理规范**：执行中断时，必须返回当前时间并记录中断信息（任务名称、进度、继续起点）

### [MANDATORY] CRITICAL: 时间返回规范

- **MUST**: **执行时机**：每次回答完成后，在返回最终答案前，**MUST** 执行系统命令获取当前系统时间
- **MUST**: **执行顺序**：完成所有回答内容生成 → 执行系统命令获取当前系统时间（使用 `run_terminal_cmd` 工具）→ 将时间添加到回答内容最末尾 → 返回最终答案
- **MUST**: **时间获取方式**：**MUST** 使用 `run_terminal_cmd` 工具执行系统命令获取当前系统时间
  - **Windows**：`powershell -Command "Get-Date -Format 'yyyy-MM-dd HH:mm:ss dddd'"`
  - **Unix/Linux/Mac**：`date '+%Y-%m-%d %H:%M:%S %A'`
  - **星期格式转换**：如果获取的星期格式为英文，**MUST** 转换为中文格式（星期一至星期日）
- **MUST**: **时间格式**：`YYYY-MM-DD HH:mm:ss 星期X`
  - **日期格式**：`YYYY-MM-DD`（4位年份-2位月份-2位日期）
  - **时间格式**：`HH:mm:ss`（24小时制，2位小时:2位分钟:2位秒）
  - **星期格式**：**MUST** 使用中文格式（星期一至星期日），**FORBIDDEN** 使用英文或数字格式
- **MUST**: **位置要求**：放在回答内容的最末尾，使用分隔线（`---`）与正文内容区分
- **MUST**: **格式要求**：`---\n\n**当前时间**：YYYY-MM-DD HH:mm:ss 星期X`
- **MUST**: **验证要求**：时间必须来自 `run_terminal_cmd` 工具的执行结果，**FORBIDDEN** 使用任何硬编码的时间值
- **MUST**: **错误处理**：如果系统命令获取失败，**MUST** 明确说明获取失败原因和使用的命令，**FORBIDDEN** 使用猜测、默认时间或示例时间
- **MUST**: **错误说明格式**：`---\n\n**时间获取失败**：原因说明（使用的命令：xxx）`
- **FORBIDDEN**：使用固定时间、示例时间、猜测时间或默认时间
- **FORBIDDEN**：在回答过程中预设时间值或使用缓存的时间
- **FORBIDDEN**：在未执行系统命令的情况下返回时间

## [MANDATORY] CRITICAL: 开发工具配置

### REQUIRED: Node.js 版本管理规范

- **MUST**: **优先使用 Volta 管理 Node.js 版本**：Volta 必须全局安装，使用前检查是否已安装，优先检查项目中是否已存在 Volta 配置并遵循现有配置
- **MUST**: **备选方案**：若 Volta 不可用，使用项目 `package.json` 中的 `engines` 字段或 `.nvmrc` 文件管理 Node.js 版本

### REQUIRED: 包管理器规范

- **MUST**: **优先使用 @antfu/ni 智能命令**：`@antfu/ni` 必须全局安装，使用前检查是否已安装，使用 `ni` 安装依赖，使用 `nr` 运行脚本命令
- **MUST**: **备选方案**：若 ni 不可用，使用 npm 作为备选包管理器
- **MUST**: **锁文件检查**：执行包管理命令前，优先检查项目根目录的锁文件类型，使用对应的包管理器

## [MANDATORY] CRITICAL: 项目架构规范

### REQUIRED: 目录结构规范

- **MUST**: **分层架构**：按业务领域或功能模块划分目录，严格遵循关注点分离原则
- **MUST**: **命名一致性**：采用描述性命名，目录和文件名需清晰反映其用途和职责
- **MUST**: **模块化设计**：相关功能聚合到同一模块，保持高内聚，最小化跨模块依赖，每个模块职责明确
- **MUST**: **模块入口规范**：每个模块必须包含 `index.ts`（或 `index.tsx`）作为聚合导出入口，**MUST NOT** 在模块外部直接导入模块内部文件
- **MUST**: **层级控制**：目录嵌套深度不超过 5-6 层
- **MUST**: **资源分类**：严格区分源代码（`src/`）、静态资源（`public/` 或 `assets/`）、配置文件（`configs/`）和测试文件（`tests/` 或 `__tests__/`）
- **MUST**: **环境变量管理**：使用 `.env` 文件管理环境变量，在 `.gitignore` 中忽略包含敏感信息的文件，提供 `.env.example` 文件作为模板
- **MUST**: **约定优先**：优先遵循项目现有的结构和命名约定，其次采用框架官方推荐的项目结构

## [MANDATORY] CRITICAL: 代码开发准则

### REQUIRED: 代码质量规范
- **MUST**: **可测试性**：组件保持单一职责原则（SRP），业务逻辑与视图层分离，函数保持纯函数特性
- **MUST**: **DRY 原则**：提取公共逻辑为独立的工具函数或工具类，公共逻辑放置在 `utils/` 或 `helpers/` 目录
- **MUST**: **简洁性**：遵循 KISS 原则，避免过度设计和过早优化，优先选择简单、直接的实现方案
- **MUST**: **语义化命名**：变量、函数、类名需准确描述其用途和含义，避免缩写和单字母变量（循环计数器除外），布尔值使用 `is`、`has`、`should` 等前缀

### REQUIRED: TypeScript 类型规范

- **MUST**: **优先使用类型推断**：充分利用 TypeScript 的类型推断能力，避免不必要的类型注解
- **MUST**: **命名规范**：变量、函数使用 `camelCase`，类、接口、类型别名、枚举使用 `PascalCase`，常量使用 `UPPER_CASE`，私有成员可使用 `_` 前缀
- **MUST**: **接口与类型选择**：优先使用 `interface` 定义对象类型，使用 `type` 定义联合类型、交叉类型或复杂类型
- **MUST**: **类型安全**：启用严格模式（`strict: true`），充分利用类型系统的优势，为第三方库缺失的类型定义添加类型声明文件

### REQUIRED: 代码风格规范

- **MUST**: 严格遵循项目配置的代码规范（ESLint、Prettier 等）
- **MUST**: 遵循项目特定的代码风格规则
- **MUST**: 保持整个项目的代码风格统一

### REQUIRED: 代码实现原则
- **MUST**: **最优方案选择**：优先选用最佳实践、可读性、极简、优雅、性能、可扩展性、现代开发习惯七者兼具的实现方案
- **MUST**: **实现优先级排序**：在满足最佳实践、现代开发习惯和可读性的前提下，优先级为：极简性 > 代码优雅 > 可扩展性 > 性能优化
- **MUST**: **可读性优先**：代码可读性至关重要，包括清晰的命名、合理的结构、必要的注释（防止短时间遗忘），不应为了极简或性能而牺牲可读性
- **MUST**: **可扩展性考虑**：代码实现应考虑未来扩展需求，优先使用策略模式、配置化设计、插件化架构等可扩展的设计模式
- **MUST**: **ES6+ 标准写法优先**：优先使用 ES6+ 标准语法和 API
- **MUST NOT**: **避免过度优化**：不要为了微小的性能提升而牺牲代码可读性和可维护性，性能优化应在明确存在性能瓶颈时进行
- **MUST**: **减少嵌套和 else 分支**：尽可能减少嵌套层级和 else 分支，优先使用提前返回（early return）模式
- **MUST**: **简化条件语句**：单行条件语句尽可能省略大括号 `{}`，优先使用 `if(xxx) return xxx` 而非 `if(xxx) { return xxx }`，但需确保可读性不受影响
- **MUST**: **条件表达式优先级**：优先使用逻辑运算符（`&&`、`||`、`??`），其次使用三元运算符，最后使用 `if-else` 语句，但需确保可读性不受影响
- **MUST**: **策略模式优先**：优先使用策略模式替代 `if-else` 语句

### REQUIRED: 导出规范

- **MUST**: **聚合导出格式**：模块索引文件（`index.ts` 或 `index.tsx`）进行聚合导出时，**MUST** 使用 `export * from 'xxx'` 和 `export type * from 'xxx'` 格式
- **MUST**: **类型导出分离**：类型导出使用 `export type * from 'xxx'`，值导出使用 `export * from 'xxx'`，确保类型和值正确分离
- **MUST**: **特殊情况处理**：仅在需要限制某些方法或类型为内部使用时，才使用具名导出（`export { xxx } from 'xxx'`），其他情况一律使用通配符导出
- **MUST**: **导出完整性**：所有需要对外暴露的公共 API 都通过索引文件正确导出
- **MUST**: **导出一致性**：同一模块内的导出方式应统一

### [MANDATORY] CRITICAL: 注释编写规范

#### REQUIRED: JSDoc 标准

- **MUST**: **按需使用 JSDoc 注释**：当变量、函数、类、接口的类型定义需要说明时，使用 **JSDoc 格式**进行注释
- **MUST**: **必要性原则**：遵循"注释编写原则"中的必要性原则（参考"注释编写原则"章节）
- **MUST**: **类型系统优先**：优先使用 TypeScript 类型系统表达意图，类型系统无法表达时再使用注释补充说明
- **MUST**: **公共 API 必须注释**：所有对外暴露的公共 API（导出的函数、类、接口、类型等）必须提供完整的 JSDoc 注释

#### REQUIRED: 注释类型与格式

- **MUST**: **文件头注释**：文件开头使用 `@file` 标签说明文件用途和相关信息
- **MUST**: **简单注释**：当注释仅包含标题时，使用 `/** xxx */` 单行格式
- **MUST**: **详细注释**：当需要添加描述说明时，使用多行 JSDoc 格式
- **MUST**: **函数注释**：当函数有参数或返回值时，必须使用 `@param` 和 `@returns` 标签（格式：`@param {类型} 参数名 - 参数描述`，`@returns {类型} 返回值描述`）
- **MUST**: **类注释**：类定义必须包含类的作用、主要方法和使用示例
- **MUST**: **类型定义注释**：Interface 和 Type 定义必须使用 JSDoc 格式
- **MUST**: **枚举注释**：枚举定义必须包含枚举的用途说明，每个枚举值应添加注释
- **MUST**: **行内注释**：函数内部逻辑说明使用 `//` 单行注释格式，注释应放在被注释代码的上方
- **MUST NOT**: **禁止行尾注释**：禁止在代码行尾添加注释，除非是极短的说明（如 `// TODO`）
- **MUST**: **TODO 和 FIXME 注释**：必须包含作者、日期和具体说明，格式：`// TODO(作者名, YYYY-MM-DD): 说明`
- **MUST**: **废弃注释**：标记废弃的 API 时，必须使用 `@deprecated` 标签并说明替代方案

#### REQUIRED: 注释编写原则

- **MUST**: **必要性原则**：代码本身能表达清楚的逻辑，优先简化注释而非删除；优先通过良好的命名和代码结构表达意图；只有当注释完全冗余（仅重复代码本身已表达的信息）时才删除；如果注释提供了额外的上下文、说明或重要信息，应保留但简化
- **MUST**: **准确性**：注释内容必须与代码实现保持一致
- **MUST**: **及时性**：修改代码时同步更新相关注释
- **MUST**: **简洁性**：注释简洁明了，避免冗余，优先简化而非删除
- **MUST**: **完整性**：公共 API 的注释必须完整，包括用途、参数、返回值、异常、示例等
- **MUST NOT**: **禁止注释代码**：禁止使用注释来"注释掉"代码，应直接删除不需要的代码
- **MUST NOT**: **禁止重复代码**：禁止在注释中重复代码本身已经表达的信息，但应简化而非直接删除

#### REQUIRED: 注释优先级

- **高优先级**（必须注释）：公共 API、复杂的业务逻辑和算法、非显而易见的实现细节、性能优化和特殊处理
- **中优先级**（建议注释）：工具函数和辅助方法、配置项和常量、类型定义和接口
- **低优先级**（可选注释）：简单的 getter/setter 方法、自解释的代码、临时变量和局部变量

#### REQUIRED: 注释与类型系统

- **MUST**: **类型优先**：优先使用 TypeScript 类型系统表达意图，类型系统无法表达时再使用注释
- **MUST**: **类型注释一致性**：JSDoc 中的类型注解应与 TypeScript 类型定义保持一致
- **MUST NOT**: **避免类型重复**：如果 TypeScript 类型已经足够清晰，JSDoc 中可以不重复类型信息

## [MANDATORY] CRITICAL: 工程化实践

### REQUIRED: 版本控制规范

- **MUST**: **提交信息规范**：遵循约定式提交（Conventional Commits）格式：`<type>(<scope>): <subject>`，提交类型：`feat`、`fix`、`docs`、`style`、`refactor`、`test`、`chore` 等，破坏性变更需使用 `BREAKING CHANGE:` 标记
- **MUST**: **分支管理**：遵循项目的分支策略，保持主分支（main/master）代码始终可运行，功能开发使用特性分支，合并前需进行代码审查

### REQUIRED: 版本管理规范

#### REQUIRED: 版本格式规范

- **MUST**: **必须使用语义化版本（Semantic Versioning，SemVer）**：版本格式 `MAJOR.MINOR.PATCH`（如 `1.2.3`），MAJOR 不兼容的 API 修改时递增，MINOR 向下兼容的功能性新增时递增，PATCH 向下兼容的问题修正时递增

#### REQUIRED: package.json 版本字段规范
- **MUST**: **版本号格式**：`package.json` 中的 `version` 字段必须符合语义化版本（SemVer）规范，使用字符串格式（如 `"1.0.0"`）
- **MUST**: **开发阶段版本**：初始开发使用 `"0.0.0"`，预发布版本可使用预发布标识符（如 `"1.0.0-alpha.1"`、`"1.0.0-beta.1"`、`"1.0.0-rc.1"`），正式版本从 `"1.0.0"` 开始

#### REQUIRED: 版本更新策略
- **MUST**: **主版本号（MAJOR）**：不兼容的 API 修改时递增（删除或重命名公共 API、改变默认行为或配置、移除已废弃的功能、重大架构变更）
- **MUST**: **次版本号（MINOR）**：添加向下兼容的新功能时递增（新增功能或 API、新增配置选项、新增组件或工具函数、增强现有功能）
- **MUST**: **修订号（PATCH）**：进行向下兼容的问题修正时递增（Bug 修复、性能优化、文档更新和修正、类型定义修正）

#### REQUIRED: 版本更新时机

- **MUST**: **发布前**：发布到 npm 或其他包管理器前，必须更新版本号

### REQUIRED: 代码变更规范
- **MUST**: **修改前检查**：检查是否有其他代码依赖、相关测试需要更新、相关文档需要同步
- **MUST**: **保持向后兼容**：避免破坏性变更，如果必须进行破坏性变更，明确标注并更新版本号
- **MUST**: **重构原则**：小步重构，重构前确保有测试覆盖，重构后运行完整测试套件，保持功能不变
- **MUST**: **删除代码前检查**：检查是否有其他地方引用、相关测试需要删除或更新、相关文档需要更新
- **MUST**: **公共 API 废弃策略**：如果是公共 API，考虑废弃（deprecate）而不是直接删除

### REQUIRED: 文件管理规范
- **MUST**: **创建新文件**：遵循项目的目录结构和命名规范，添加必要的文件头注释（参考"注释编写规范"章节），检查是否需要更新入口文件和文档
- **MUST**: **删除文件前检查**：检查是否有其他文件导入、是否需要更新导出文件、是否需要删除相关测试文件、是否需要更新相关文档
- **MUST**: **重命名文件**：更新所有导入此文件的地方、更新导出文件、更新相关文档中的引用

### REQUIRED: 代码审查规范
- **MUST**: **审查要点**：代码是否符合项目规范、是否有潜在的安全问题、是否有性能问题、是否有测试覆盖、文档是否同步更新
- **MUST**: **反馈处理**：认真对待审查反馈，及时修复审查中发现的问题，修复后重新提交审查

### REQUIRED: 依赖管理规范
- **MUST**: **统一声明**：统一在 `package.json` 中声明所有依赖，严格区分 `dependencies` 和 `devDependencies`
- **MUST**: **版本锁定**：生产依赖使用精确版本或版本范围锁定，开发依赖可使用 `^` 或 `~` 允许小版本更新
- **MUST**: **添加依赖前评估**：评估依赖的必要性、安全性、维护状态和许可证兼容性
- **MUST**: **更新依赖前检查**：查看更新日志，检查是否有破坏性变更，运行测试确保兼容性
- **MUST**: **处理依赖冲突**：优先使用项目已使用的版本，使用 `pnpm why` 或类似命令分析依赖树

### REQUIRED: 测试规范
- **MUST**: **测试文件组织**：测试文件与源文件同目录或 `__tests__` 目录，测试文件命名：`*.test.ts`、`*.spec.ts` 或 `*.test.tsx`
- **MUST**: **测试编写原则**：每个测试用例只测试一个功能点，测试用例名称清晰描述测试内容，测试应该独立，不依赖其他测试的执行顺序
- **MUST**: **测试覆盖**：核心功能、公共 API、边界情况和错误处理必须有测试覆盖，优先保证质量，再追求覆盖率

### REQUIRED: 错误处理规范
- **MUST**: **全面性**：全面处理边界情况和异常状态
- **MUST**: **信息性**：提供有意义的错误信息，便于调试和问题定位
- **MUST**: **用户友好**：向用户展示友好的错误提示，避免暴露技术细节

### REQUIRED: 调试诊断规范
- **MUST**: **错误处理**：仔细阅读错误信息，使用适当的调试工具，添加适当的日志输出，检查边界情况和异常输入
- **MUST**: **编译错误处理**：检查类型定义、导入路径、配置文件是否正确
- **MUST**: **类型错误处理**：理解类型错误的根本原因，检查类型定义是否完整，避免使用 `any`
- **MUST**: **运行时错误处理**：使用浏览器开发者工具查看错误信息，使用断点调试定位问题，使用 try-catch 捕获和处理异常
- **MUST**: **性能问题诊断**：使用性能分析工具识别性能瓶颈，优先优化影响最大的部分

### REQUIRED: 工具使用规范

- **MUST**: **配置文件查询规范**（执行前必查）：脚本执行前读取 `package.json` 的 `scripts` 字段，依赖操作前读取 `dependencies`、`devDependencies`、`peerDependencies`、`engines`、`volta` 字段，构建配置前读取相关配置文件，环境配置前读取 `.env.example`、`.env` 或 `.env.local`，工具配置前读取 `.editorconfig`、`.gitignore`、`.npmrc` 或 `.pnpmrc`
- **MUST**: **脚本执行规范**：执行脚本前必须先读取 `package.json` 的 `scripts` 字段，检测当前运行环境并根据环境生成对应的命令，运行脚本时优先使用 `@antfu/ni` 提供的 `nr` 命令，若 `nr` 不可用，根据项目锁文件类型使用对应的包管理器命令
- **MUST**: **配置修改**：修改配置前，必须先读取相关配置文件，理解现有配置，修改后测试确保配置生效

### REQUIRED: 安全规范
- **MUST**: **敏感信息处理**：不在代码中硬编码敏感信息，使用环境变量管理敏感信息，确保 `.gitignore` 正确配置
- **MUST**: **依赖安全**：定期检查依赖的安全漏洞，使用 `pnpm audit` 或类似工具检查，及时更新有安全漏洞的依赖

### REQUIRED: 兼容性规范
- **MUST**: **浏览器兼容性**：明确项目支持的浏览器版本，使用 Babel 或类似工具处理兼容性，测试主要浏览器的兼容性
- **MUST**: **版本兼容性**：明确项目的 Node.js 版本要求和包管理器版本要求，在文档中明确说明版本要求

### REQUIRED: 代码生成规范
- **MUST**: **生成代码**：遵循项目的代码风格和命名规范，添加必要的类型定义和注释（参考"注释编写规范"章节），确保生成的代码可以直接使用
- **MUST**: **生成组件**：遵循组件的命名规范，添加必要的 Props、Emits、Slots 类型定义和组件说明注释
- **MUST**: **生成工具函数**：添加 JSDoc 注释说明函数用途（参考"注释编写规范"章节），添加类型定义和参数说明，考虑边界情况和错误处理

## [MANDATORY] CRITICAL: 文档编写标准

### REQUIRED: 通用要求

- **MUST**: **格式统一**：统一使用 Markdown 格式编写文档
- **MUST**: **语言规范**：文档语言必须遵循项目语言规范（参考"语言规范"章节）
- **MUST**: **质量检查**：严格检查拼写和语法错误，确保文档质量

### [MANDATORY] CRITICAL: 文档同步机制

- **MUST**: **同步时机**：修改代码后、添加新功能时、修改配置时、修复 Bug 时（如果涉及行为变更），必须同步更新相关文档
- **MUST**: **同步检查流程**：识别相关文档、检查文档存在性、对比内容一致性、更新文档内容、验证更新完整性
- **MUST**: **同步优先级**：高优先级（API 文档、README.md 中的快速开始和配置说明）、中优先级（开发文档、使用指南）、低优先级（变更日志、历史文档）

### REQUIRED: 文档目录结构
```
项目根目录/
├── README.md           # 项目概览和快速开始指南
├── docs/               # 详细文档目录
│   ├── development/    # 开发文档（按功能模块划分）
│   └── guide/          # 使用指南（按功能模块划分）
```

### REQUIRED: README.md 必备内容

- **MUST**: README.md 必须包含以下内容，按顺序组织：项目介绍、快速开始、技术栈说明、目录结构说明、使用指南、开发指南、构建和部署、其他信息（可选）

### REQUIRED: 文档组织规范
- **MUST**: **结构原则**：采用"总-分"结构，从概述到细节，层层递进
- **MUST**: **信息优先级**：关键信息前置，突出重点内容
- **MUST**: **格式规范**：合理使用标题层级（H1-H6），使用列表、代码块、表格等元素提升可读性，段落保持简洁

### REQUIRED: 代码示例标准
- **MUST**: **完整性**：提供完整可执行的代码片段，确保可以直接运行
- **MUST**: **简洁性**：示例代码简洁易懂，突出核心逻辑，避免不必要的复杂性
- **MUST**: **注释说明**：关键部分添加 JSDoc 注释，说明实现思路和注意事项
- **MUST**: **版本同步**：确保示例代码与当前 API 版本保持同步，及时更新过时示例

### REQUIRED: 文档维护规范

- **MUST**: **定期审查**：定期审查文档内容，确保与代码实现保持一致
- **MUST**: **变更追踪**：代码变更时，记录需要同步的文档清单
- **MUST**: **版本对应**：文档版本应与代码版本对应（遵循语义化版本（SemVer）规范），重大变更应在文档中明确标注
- **MUST**: **反馈机制**：建立文档反馈机制，及时修复文档中的错误和遗漏
- **MUST**: **自动化检查**：在 CI/CD 流程中集成文档检查，确保文档与代码同步

### [MANDATORY] CRITICAL: 文档生成流程规范

- **MUST**: **遵循流程**：生成文档时必须遵循"先总体后细节"的原则
- **MUST**: **生成总体架构**：在生成文档内容之前，必须先生成文档的整体结构、目录和层次关系
- **MUST**: **逐步细化**：按照总体架构，逐个章节填充内容，确保章节之间的逻辑连贯性
- **MUST**: **补充完善**：补充遗漏的内容，完善细节描述，添加必要的示例和说明
- **MUST**: **检查优化**：检查文档的完整性和准确性，优化文档结构和表达
- **MUST NOT**: **禁止一次性生成完整文档**：生成文档时严格禁止一次性生成完整文档

## [MANDATORY] CRITICAL: AI 生成文档管理规范

### REQUIRED: 目录结构规范

- **MUST**: **统一管理目录**：所有 AI 生成的文档必须在项目根目录下的 `ai-workspace/` 目录中统一管理
- **MUST**: **命名规范**：目录和文件名称使用小写字母和连字符（kebab-case）
- **MUST**: **模块化分类**：根据文档类型和功能模块进行分类组织

### REQUIRED: 文档分类规范

- **MUST**: **设计文档**：放置在 `ai-workspace/design/` 目录下（`architecture/`、`api/`、`database/`、`ui-ux/`）
- **MUST**: **计划文件**：放置在 `ai-workspace/plan/` 目录下（`project/`、`iteration/`、`task/`）
- **MUST**: **执行日志**：放置在 `ai-workspace/logs/` 目录下（`development/`、`debug/`、`issues/`）
- **MUST**: **提示库词**：放置在 `ai-workspace/prompts/` 目录下（`templates/`、`library/`、`optimization/`）
- **MUST**: **资源文件**：放置在 `ai-workspace/resources/` 目录下（`references/`、`notes/`、`tools/`）

### REQUIRED: 文档创建规范

- **MUST**: **创建前检查**：创建新文档前，必须检查 `ai-workspace/` 目录结构，确保文档放置在正确的分类目录下
- **MUST**: **文件格式**：所有 AI 生成的文档必须使用 Markdown 格式（`.md` 或 `.mdx`）
- **MUST**: **文件头注释**：每个文档文件开头必须包含文件头注释（参考"注释编写规范"章节），说明文档用途、创建时间、相关模块等信息
- **MUST**: **版本控制**：所有 AI 生成的文档必须纳入版本控制（Git）

### REQUIRED: 文档维护规范

- **MUST**: **定期整理**：定期整理 `ai-workspace/` 目录，删除过时或无效的文档
- **MUST**: **分类更新**：文档内容变更时，如果涉及分类变更，必须同步更新文档位置
- **MUST**: **命名一致性**：保持文档命名风格一致，使用描述性命名，准确反映文档内容
- **MUST**: **引用规范**：在代码或其他文档中引用 AI 生成文档时，必须使用相对路径
- **MUST**: **文档同步**：AI 生成的文档如果涉及项目代码或配置变更，必须同步更新相关代码和配置

### REQUIRED: 文档内容规范

- **MUST**: **内容完整性**：AI 生成的文档必须包含完整的信息，包括背景说明、详细描述、示例代码、注意事项等
- **MUST**: **格式统一**：文档格式必须符合项目文档编写标准（参考"文档编写标准"章节）
- **MUST**: **语言规范**：文档语言必须遵循项目语言规范（参考"语言规范"章节）
- **MUST**: **准确性**：文档内容必须准确反映实际情况，与代码实现保持一致，及时更新过时内容

### REQUIRED: 文档访问规范

- **MUST**: **访问权限**：明确文档的访问权限，区分公开文档和内部文档，确保敏感信息不被泄露
- **MUST**: **文档索引**：在 `ai-workspace/` 根目录下维护文档索引文件（如 `README.md`），提供文档导航和快速查找
- **MUST**: **版本标记**：重要文档必须标记版本号或日期，便于追踪文档变更历史
