---
description: MDC 文件生成和管理规范
globs: 
alwaysApply: true
priority: 1  # 最高优先级，确保规则被优先执行
tags:
  - mandatory  # 标记为强制要求
  - critical   # 标记为关键要求
  - mdc  # 标记为 MDC 相关
---

# MDC 文件生成和管理规范

> **⚠️ 强制要求 - 请勿忽略**
>
> 本文档定义了 MDC 规则文件的生成、管理和使用规范，所有规则文件必须严格遵循，不得违反或忽略。

## 目录导航

- [规则文件编号空间规范](#规则文件编号空间规范)
- [MDC 文件生成要求](#mdc-文件生成要求)
- [MDC 规则文件核心原则](#mdc-规则文件核心原则)
- [MDC 文件风格一致性规范](#mdc-文件风格一致性规范)
- [规则文件引用规范](#规则文件引用规范)

## 规则文件编号空间规范

> **⚠️ 强制要求 - 所有规则文件必须严格遵循此编号空间规范**

规则文件必须按照以下编号空间进行组织，禁止违反：

- 000：核心总纲文件
  - 仅用于核心开发规范总纲，包含目录导航和沟通响应规范等基础规范
  - 禁止在此编号下创建其他文件

- 001-009：AI 相关规范（10个文件空间）
  - 用于定义 AI 执行、行为、响应等相关规范
  - 当前使用：
    - `001_mdc-standards.mdc` - MDC 文件生成和管理规范
    - `002_documentation-standards.mdc` - 文档编写标准
    - `003_execution-standards.mdc` - AI 行动执行规范
  - 预留空间：004-009

- 010-049：前端开发规范（40个文件空间）
  - 用于定义前端开发相关的所有规范，包括代码质量、类型规范、代码风格、注释、工程化、测试、工具配置、架构、文档等
  - 当前使用：
    - `010_development-standards.mdc` - 开发规范（合并了代码质量、TypeScript、代码风格、注释、测试、工具配置、架构规范）
    - `020_engineering-standards.mdc` - 工程化实践规范
    - `021_monorepo-standards.mdc` - Monorepo 开发通用规范
  - 预留空间：011-019、022-049

- 050-099：预留扩展（50个文件空间）
  - 用于未来扩展的通用规范
  - 当前未使用

- 100+：项目特定规范（无限扩展）
  - 用于定义项目特定的开发规范
  - 当前使用：`100_project-rules.mdc` - Element Plus Kit 项目特定开发规范
  - 可扩展：101、102、103...

**编号规范要求**：
- 所有规则文件必须使用三位数编号，格式：`{编号}_{模块名称}-standards.mdc` 或 `{编号}_{模块名称}-rules.mdc`
- 编号必须严格按照上述空间分配，禁止跨空间使用编号
- 创建新文件前，必须检查编号空间是否可用，禁止占用已使用的编号
- 文件命名必须使用英文 kebab-case，禁止使用中文或特殊字符

## MDC 文件生成要求

- 所有规则定义必须优先考虑 AI 的理解和执行能力
- 生成或修改 MDC 文件时，必须严格遵循最佳实践、简洁、明确、清晰四个标准，确保规则定义文件符合这些要求
- 生成前必须检查现有 MDC 文件（如 000、001 等）中是否已包含相同或类似的内容（必须使用 `read_file` 工具逐行逐字符读取相关文件）
- 禁止完全重复，新文件不应包含与现有文件完全相同的内容
- 对于已在现有文件中定义的内容，必须使用引用而非重复描述
- 规则定义文件必须简洁、明确、可执行，无冗余说明
- 生成或修改 MDC 文件时，必须严格遵循参考说明使用原则
  - 保留参考说明：仅在避免重复定义时使用参考说明（如注释格式、文档格式、语言规范等）
  - 删除参考说明：规则本身已足够明确时，禁止添加参考说明（如目录结构、命名规范等）
  - 原则：参考说明仅用于避免重复定义，禁止在规则本身已明确的情况下添加参考说明

## MDC 规则文件核心原则

> **⚠️ 强制要求 - 请勿忽略**
>
> 所有 MDC 规则文件必须严格遵循以下核心原则，禁止违反。

**核心原则**（基于 Cursor 官方文档和 AI prompt engineering 最佳实践）：

1. **清晰性**：规则应该清晰、具体且可执行
2. **简洁性**：避免冗长和复杂的描述
3. **直接性**：使用直接指令语言，而非复杂的标记系统
4. **可执行性**：提供具体示例，而非抽象描述

**MDC 文件长度限制**：

- MDC 文件绝对不能超过 500 行（基于"避免过于复杂的提示"原则，确保规则清晰可执行）
- 如果超过 500 行，必须模块化抽离定义，拆分为多个文件
- 在基础规范文件（[`000_core-standards.mdc`](./000_core-standards.mdc)）中链接对应的文档，禁止重复定义已有或相同的规则

**Cursor 官方建议**：

- 规则应该"清晰、具体且可执行，避免模糊的指导"

**AI prompt engineering 最佳实践**：

- 使用直接指令语言，而非复杂的标记系统

## MDC 文件风格一致性规范

- 所有 MDC 文件必须与基础规范文件（[`000_core-standards.mdc`](./000_core-standards.mdc)）保持风格一致
- 所有 MDC 文件必须包含 Frontmatter 配置，使用 YAML 格式
  - **必需字段**：
    - `description`：规则文件描述，必须清晰说明文件用途
    - `alwaysApply`：必须设置为 `true`，确保规则始终生效
    - `priority`：优先级数字，1 为最高优先级，数字越小优先级越高
    - `tags`：标签数组，用于分类和检索规则
  - **可选字段**：
    - `globs`：文件匹配模式，用于指定规则适用的文件类型
  - **格式要求**：所有字段格式必须严格遵循基础规范文件（[`000_core-standards.mdc`](./000_core-standards.mdc)）的格式要求

## 规则文件引用规范

> **⚠️ 强制要求 - 请勿忽略**
>
> 所有规则文件之间的引用必须严格遵循以下规范，禁止违反。

### 引用格式要求

- 禁止使用"参考"一词：禁止使用"参考"、"请参考"、"详细规范请参考"等表述，这些表述可能被 AI 视为可选，导致规则被忽略
- 必须使用强制表述：所有规则文件引用必须使用"必须严格遵循"或"必须遵循"等强制表述
- 必须添加内部链接：引用其他规则文件的章节时，必须添加 Markdown 内部链接，便于快速跳转

### 标准引用格式

**格式一**（引用其他文件的章节）：
```markdown
必须严格遵循 [`xxx_standards.mdc`](./xxx_standards.mdc) 中的[章节名称](./xxx_standards.mdc#章节名称)章节
```
- **文件链接**：必须使用 `[文件名](./文件名)` 格式，使用相对路径
- **章节链接**：必须使用 `[章节名称](./文件名#章节名称)` 格式，支持跨文件跳转

**格式二**（引用其他文件，无具体章节）：
```markdown
必须严格遵循 [`xxx_standards.mdc`](./xxx_standards.mdc)
```
- **文件链接**：必须使用 `[文件名](./文件名)` 格式，使用相对路径

**格式三**（引用当前文件的章节）：
```markdown
必须严格遵循[章节名称](#章节名称)章节
```
- **章节链接**：使用 `[章节名称](#章节名称)` 格式，指向当前文件的章节

### 引用原则

- 强制性原则：所有引用必须使用强制表述，明确表示必须遵循，禁止使用可选性表述
- 文件链接原则：引用其他规则文件时，必须为文件名添加链接，使用 `[文件名](./文件名)` 格式
- 章节链接原则：引用章节时必须添加内部链接，便于快速导航和验证
  - 引用其他文件的章节：使用 `[章节名称](./文件名#章节名称)` 格式
  - 引用当前文件的章节：使用 `[章节名称](#章节名称)` 格式
- 一致性原则：所有规则文件中的引用格式必须保持一致
