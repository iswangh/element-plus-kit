---
description: 测试、错误处理和调试诊断规范
globs: 
alwaysApply: true
priority: 2
tags:
  - testing
  - error-handling
  - debugging
---

# 测试、错误处理和调试诊断规范

> **⚠️ 强制要求 - 请勿忽略**
>
> 本文档定义了测试规范、错误处理规范和调试诊断规范。

## 测试规范

- 测试文件组织：测试文件与源文件同目录或 `__tests__` 目录，测试文件命名：`*.test.ts`、`*.spec.ts` 或 `*.test.tsx`
- 测试编写原则：每个测试用例只测试一个功能点，测试用例名称清晰描述测试内容，测试应该独立，不依赖其他测试的执行顺序
- 测试覆盖：核心功能、公共 API、边界情况和错误处理必须有测试覆盖，优先保证质量，再追求覆盖率

## 错误处理规范

- 全面处理边界情况和异常状态
- 提供有意义的错误信息，便于调试和问题定位
- 向用户展示友好的错误提示，避免暴露技术细节

## 调试诊断规范

- 仔细阅读错误信息，使用适当的调试工具，添加适当的日志输出，检查边界情况和异常输入
- 编译错误处理：检查类型定义、导入路径、配置文件是否正确
- 类型错误处理：理解类型错误的根本原因，检查类型定义是否完整，避免使用 `any`
- 运行时错误处理：使用浏览器开发者工具查看错误信息，使用断点调试定位问题，使用 try-catch 捕获和处理异常
- 性能问题诊断：使用性能分析工具识别性能瓶颈，优先优化影响最大的部分
