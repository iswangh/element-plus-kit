---
description: 代码质量规范
globs: 
alwaysApply: true
priority: 2
tags:
  - code-quality
  - development
---

# 代码质量规范

> **⚠️ 强制要求 - 请勿忽略**
>
> 本文档定义了代码质量标准和实现原则，所有代码实现必须严格遵循。

## 代码质量规范

- 组件保持单一职责原则（SRP），业务逻辑与视图层分离，函数保持纯函数特性
- 提取公共逻辑为独立的工具函数或工具类，公共逻辑放置在 `utils/` 或 `helpers/` 目录
- 遵循 KISS 原则，避免过度设计和过早优化，优先选择简单、直接的实现方案
- 变量、函数、类名需准确描述其用途和含义，避免缩写和单字母变量（循环计数器除外），布尔值使用 `is`、`has`、`should` 等前缀

## 代码实现原则

- 代码质量最高标准（最重要原则）：代码实现必须追求极致的极简性、优雅性、可读性、可维护性、可扩展性和高性能，并严格遵循最新的现代开发习惯和最佳实践。这是代码开发准则中最核心、最重要的要求，所有代码实现都必须以此为标准进行设计和开发，不得妥协
- 实现优先级排序：在满足最佳实践、现代开发习惯和可读性的前提下，优先级为：极简性 > 代码优雅 > 可扩展性 > 性能优化
- 代码可读性至关重要，包括清晰的命名、合理的结构、必要的注释（防止短时间遗忘），不应为了极简或性能而牺牲可读性
- 代码实现应考虑未来扩展需求，优先使用策略模式、配置化设计、插件化架构等可扩展的设计模式
- 优先使用 ES6+ 标准语法和 API
- 不要为了微小的性能提升而牺牲代码可读性和可维护性，性能优化应在明确存在性能瓶颈时进行
- 尽可能减少嵌套层级和 else 分支，优先使用提前返回（early return）模式
- 单行条件语句尽可能省略大括号 `{}`，优先使用 `if(xxx) return xxx` 而非 `if(xxx) { return xxx }`，但需确保可读性不受影响
- 优先使用逻辑运算符（`&&`、`||`、`??`），其次使用三元运算符，最后使用 `if-else` 语句，但需确保可读性不受影响
- 优先使用策略模式替代 `if-else` 语句
